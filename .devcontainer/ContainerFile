# Image
FROM mcr.microsoft.com/devcontainers/base:alpine

# Install the basics
RUN apk add --no-cache \
    bash bash-completion fish \
    git openssh-client curl \
    pfetch-rs

# Install host-spawn
RUN curl -fsSL \
    https://github.com/1player/host-spawn/releases/latest/download/host-spawn-x86_64 \
    -o /usr/local/bin/host-spawn

# copy setup scripts
COPY scripts/devcon-help /usr/local/bin/
COPY scripts/setup-java /usr/local/bin/
COPY scripts/setup-rust /usr/local/bin/
COPY scripts/jvrn /usr/local/bin/
RUN chmod +x /usr/local/bin/*

# copy configs
COPY configs/greet.fish /etc/fish/conf.d/
    
# Switch to user
#USER root
